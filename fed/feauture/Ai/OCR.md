# OCR

## 应用
将纸质文档转为电子文档的时候，通常使用的方法是将纸质文档拍照后进行OCR识别，将照片中的文字提取出来，然后复制粘贴为电子文档。

问题：
- 重新将电子文档排版、修正
- 纸质文档中会存在大量的文字外内容，例如表格、图片、段落样式、文字样式、排版，如果使用单一的OCR通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的能力，则无法将图片中的数据准确的识别，并且图片等不需要识别的内容也无法保留下来。
  
方案：
- 重新过程需先对文档进行版面分析，版面分析是对版面内的图像、文本、表格信息和位置关系进行自动分析、识别和理解的过程，决定了恢复出来文档的完整性和质量。
- 版面分析得到段落、图片、表格等结构化信息后，再进行OCR识别和表格恢复。
- 生成用户可以直接编辑的格式。
  
背景：
- 版面分析：目前业界一般对二值化图像提取连通域，设计`人为经验规则`提取相应特征，然后利用`决策树、SVM分类器`得到每个区域的类别。整个流程依赖人为设计的特征，对倾斜旋转图像不够鲁棒，泛化性较差。
- OCR识别：目前业界主要通过深度学习如Faster-RCNN、EAST算法、LSTM\RNN等技术检测识别文本行。
- 表格恢复：目前业界一般利用Canny算子提取边缘，计算单元格坐标位置从而恢复出表格，对模糊等低质图像效果不理想，后处理繁杂。

实施：
- 首先对包含文档的图像进行检测，对扭曲的文档进行校正
  - 自动框选利用HED深度学习模型对图片中文档区域进行框选
  - 扭曲矫正算法利用DocNet深度学习模型对文档图片进行扭曲矫正
- 然后通过版面分析模块，得到段落、图表等兴趣区域，针对每个区域进行相应增强恢复处理。
- 最后根据阅读顺序，生成用户可以直接编辑的电子文档